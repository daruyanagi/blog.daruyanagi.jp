<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <base href="http://daruyanagi.net/" />
        <link rel="canonical" href="http://daruyanagi.net/entry/2015/09/22/171205/" />

        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title> 
            一年ぶり： HTML5 Canvas に挑戦したった。 | だるやなぎ
        </title>

        

        
            
        

        
            <meta name="description" content="むかし HTML5 Canvas で年表っぽいの作りたいなぁ、って思って一度挑戦したのだけど……すごい、もう一年経ってた。そら、加齢臭も増しますわ。コーディングは WebMatrix でやったけれど、いまだに JavaScript をいい感じにコンポーネント化するやり方が分かってない(;´･ω･)前と違うのは縦書きである点だけど、HTML は横に広がるより縦に広がる方が読みやすい気がした。あと、デザイン……センスないのどうやったら改善されるんだろう？ ```javascript &lt;script src=&#34;~/Scripts/Chronology.js&#34;&lt;/script &lt;script var graph_settings1 = { : } window.onload = function () { chronology(&amp;#39;graph&amp;#39;, graph_settings1); };  &lt;/script&gt;
&lt;div class=&quot;section&quot;&gt; ### テスト1：三国志の年表   &lt;br/&gt; ```javascript var graph_settings2 = { &quot;begin_year&quot;: 190, &quot;end_year&quot;: 290, &quot;scale&quot;: 5, &quot;margin&quot;: 6, &quot;items&quot;: [ { &quot;name&quot;: &quot;魏&quot;, &quot;start&quot;: 220, &quot;end&quot;: 265, &quot;color&quot;: &quot;blue&quot; }, { &quot;name&quot;: &quot;呉&quot;, &quot;start&quot;: 222, &quot;end&quot;: 280, &quot;color&quot;: &quot;red&quot; }, { &quot;name&quot;: &quot;蜀&quot;, &quot;start&quot;: 221, &quot;end&quot;: 263, &quot;color&quot;: &quot;orange&quot; }, { &quot;name&quot;: &quot;晋&quot;, &quot;start&quot;: 265, &quot;end&quot;: 316, &quot;color&quot;: &quot;green&quot; }, { &quot;name&quot;: &quot;後漢&quot;, &quot;start&quot;: 23, &quot;end&quot;: 220, &quot;color&quot;: &quot;gray&quot; }, ], &quot;events&quot;: [ { &quot;name&quot;: &quot;黄巾の乱&quot;, &quot;year&quot;: 184 }, { &quot;name&quot;: &quot;赤壁の戦い&quot;, &quot;year&quot;: 208 }, { &quot;name&quot;: &quot;夷陵の戦い&quot;, &quot;year&quot;: 221 }, { &quot;name&quot;: &quot;五丈原の戦い&quot;, &quot;year&quot;: 234 }, { &quot;name&quot;: &quot;高平陵の変&quot;, &quot;year&quot;: 249 }, { &quot;name&quot;: &quot;公孫淵滅亡&quot;, &quot;year&quot;: 238 }, ] };  ### テスト2：共和制ローマ末期（紀元前のテスト）    var graph_settings3 = { &#34;begin_year&#34;: -120, &#34;end_year&#34;: 20, &#34;scale&#34;: 5, &#34;margin&#34;: 6, &#34;graduation&#34;: 20, &#34;items&#34;: [ { &#34;name&#34;: &#34;キケロ&#34;, &#34;start&#34;: -107, &#34;end&#34;: -43, &#34;color&#34;: &#34;blue&#34; }, { &#34;name&#34;: &#34;スッラ&#34;, &#34;start&#34;: -138, &#34;end&#34;: -78, &#34;color&#34;: &#34;red&#34; }, { &#34;name&#34;: &#34;カエサル&#34;, &#34;start&#34;: -102, &#34;end&#34;: -44, &#34;color&#34;: &#34;orange&#34; }, { &#34;name&#34;: &#34;アントニウス&#34;, &#34;start&#34;: -83, &#34;end&#34;: -30, &#34;color&#34;: &#34;green&#34; }, { &#34;name&#34;: &#34;アウグストゥス&#34;, &#34;start&#34;: -63, &#34;end&#34;: 14, &#34;color&#34;: &#34;gray&#34; }, ], &#34;events&#34;: [ { &#34;name&#34;: &#34;アクティウムの海戦&#34;, &#34;year&#34;: -31 }, { &#34;name&#34;: &#34;アレシア攻防戦&#34;, &#34;year&#34;: -51 }, { &#34;name&#34;: &#34;同盟市戦争&#34;, &#34;year&#34;: -90 }, { &#34;name&#34;: &#34;スパルタクスの反乱&#34;, &#34;year&#34;: -73 }, { &#34;name&#34;: &#34;ユグルタ戦争&#34;, &#34;year&#34;: -109 }, ] }; ```紀元前0年が発生するのは気にしないことにする（ぉ &lt;/div&gt; " />
        

        
        
        <link rel="stylesheet" href="css/style.css">

    </head>
    <body class="body">

        <header class="global-header">
            <h1><a href="/" >だるやなぎ</a></h1>

<p>そうだ、だるだるしよう。</p>


        </header>

        <main>
            
    <article class="entry">

        <div class="entry__header">
            <div class="entry__header-taxonomies">
                
                
                    <div class="entry__header-taxonomies-category">
                        <span class="entry__header-taxonomies-category-title">
                            <a class="entry__header-taxonomies-category-title-link" href="http://daruyanagi.net/entry/">
                                Entries
                            </a>
                        </span>
                    </div>
                
                
                    <div class="entry__header-taxonomies-tags">
                        <ul class="entry__header-taxonomies-tags-list" >
                            
                                
                                
                                    <li class="entry__header-taxonomies-tags-list-item">
                                        <a class="entry__header-taxonomies-tags-list-itelink" href="http://daruyanagi.net/tags/javascript/">JavaScript </a>
                                    </li>
                                
                            
                        </ul>
                    </div>
                
            </div>

            <div class="entry__header-title">
                <a class="entry__header-title-link" href="http://daruyanagi.net/entry/2015/09/22/171205/" >
                    <h1 class="entry__header-title-link-text">一年ぶり： HTML5 Canvas に挑戦したった。</h1>
                </a>
            </div>

            <div class="entry__header-date">
                <P>公開日：<time>2015/09/22</time>
                </P>
            </div>

        </div>
        <div class="entry__content">
            <iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fblog.daruyanagi.jp%2Fentry%2F2014%2F05%2F27%2F032655" title="ただの日記： HTML5 Canvas に挑戦したった。 - だるろぐ" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe>むかし HTML5 Canvas で年表っぽいの作りたいなぁ、って思って一度挑戦したのだけど……すごい、もう一年経ってた。そら、加齢臭も増しますわ。コーディングは WebMatrix でやったけれど、いまだに JavaScript をいい感じにコンポーネント化するやり方が分かってない(;´･ω･)<script src="https://gist.github.com/daruyanagi/a642d35cf017a9231e80.js"> </script>前と違うのは縦書きである点だけど、HTML は横に広がるより縦に広がる方が読みやすい気がした。あと、デザイン……センスないのどうやったら改善されるんだろう？
```javascript
&lt;script src="~/Scripts/Chronology.js">&lt;/script>
&lt;script>
    var graph_settings1 = {
        :
    }
<pre><code>window.onload = function () {
    chronology(&amp;#39;graph&amp;#39;, graph_settings1);
};
</code></pre>
<p>&lt;/script&gt;</p>
<pre><code class="language-ってな感じで使える気がする。ロゴ云々はキニシナイデ。最初はそれぞれのアイテムにロゴをもたせて、名前の代わりにロゴをレンダリングしてやろうと思ったのだけど、なんかいろいろ難しくてやめた。" data-lang="ってな感じで使える気がする。ロゴ云々はキニシナイデ。最初はそれぞれのアイテムにロゴをもたせて、名前の代わりにロゴをレンダリングしてやろうと思ったのだけど、なんかいろいろ難しくてやめた。">
&lt;div class=&quot;section&quot;&gt;
    ### テスト1：三国志の年表
    <figure>
    <img src="/images/2015/09/22/171205/20150922170332.png"/> 
</figure>
&lt;br/&gt;

```javascript
var graph_settings2 = {
    &quot;begin_year&quot;: 190,
    &quot;end_year&quot;: 290,
    &quot;scale&quot;: 5,
    &quot;margin&quot;: 6,
    &quot;items&quot;: [
            { &quot;name&quot;: &quot;魏&quot;, &quot;start&quot;: 220, &quot;end&quot;: 265, &quot;color&quot;: &quot;blue&quot; },
            { &quot;name&quot;: &quot;呉&quot;, &quot;start&quot;: 222, &quot;end&quot;: 280, &quot;color&quot;: &quot;red&quot; },
            { &quot;name&quot;: &quot;蜀&quot;, &quot;start&quot;: 221, &quot;end&quot;: 263, &quot;color&quot;: &quot;orange&quot; },
            { &quot;name&quot;: &quot;晋&quot;, &quot;start&quot;: 265, &quot;end&quot;: 316, &quot;color&quot;: &quot;green&quot; },
            { &quot;name&quot;: &quot;後漢&quot;, &quot;start&quot;: 23, &quot;end&quot;: 220, &quot;color&quot;: &quot;gray&quot; },
        ],
    &quot;events&quot;: [
        { &quot;name&quot;: &quot;黄巾の乱&quot;, &quot;year&quot;: 184 },
        { &quot;name&quot;: &quot;赤壁の戦い&quot;, &quot;year&quot;: 208 },
        { &quot;name&quot;: &quot;夷陵の戦い&quot;, &quot;year&quot;: 221 },
        { &quot;name&quot;: &quot;五丈原の戦い&quot;, &quot;year&quot;: 234 },
        { &quot;name&quot;: &quot;高平陵の変&quot;, &quot;year&quot;: 249 },
        { &quot;name&quot;: &quot;公孫淵滅亡&quot;, &quot;year&quot;: 238 },
    ]
};

</code></pre></div>
<div class="section">
    ### テスト2：共和制ローマ末期（紀元前のテスト）
    <figure>
    <img src="/images/2015/09/22/171205/20150922170401.png"/> 
</figure>
<br/>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">graph_settings3</span> <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#34;begin_year&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>,
    <span style="color:#e6db74">&#34;end_year&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>,
    <span style="color:#e6db74">&#34;scale&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
    <span style="color:#e6db74">&#34;margin&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">6</span>,
    <span style="color:#e6db74">&#34;graduation&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>,
    <span style="color:#e6db74">&#34;items&#34;</span><span style="color:#f92672">:</span> [
            { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;キケロ&#34;</span>, <span style="color:#e6db74">&#34;start&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">107</span>, <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">43</span>, <span style="color:#e6db74">&#34;color&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;blue&#34;</span> },
            { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;スッラ&#34;</span>, <span style="color:#e6db74">&#34;start&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">138</span>, <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">78</span>, <span style="color:#e6db74">&#34;color&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;red&#34;</span> },
            { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;カエサル&#34;</span>, <span style="color:#e6db74">&#34;start&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">102</span>, <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">44</span>, <span style="color:#e6db74">&#34;color&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;orange&#34;</span> },
            { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;アントニウス&#34;</span>, <span style="color:#e6db74">&#34;start&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">83</span>, <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">30</span>, <span style="color:#e6db74">&#34;color&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;green&#34;</span> },
            { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;アウグストゥス&#34;</span>, <span style="color:#e6db74">&#34;start&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">63</span>, <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">14</span>, <span style="color:#e6db74">&#34;color&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;gray&#34;</span> },
        ],
    <span style="color:#e6db74">&#34;events&#34;</span><span style="color:#f92672">:</span> [
        { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;アクティウムの海戦&#34;</span>, <span style="color:#e6db74">&#34;year&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">31</span> },
        { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;アレシア攻防戦&#34;</span>, <span style="color:#e6db74">&#34;year&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">51</span> },
        { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;同盟市戦争&#34;</span>, <span style="color:#e6db74">&#34;year&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span> },
        { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;スパルタクスの反乱&#34;</span>, <span style="color:#e6db74">&#34;year&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">73</span> },
        { <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ユグルタ戦争&#34;</span>, <span style="color:#e6db74">&#34;year&#34;</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">109</span> },
    ]
};

<span style="color:#e6db74">```紀元前0年が発生するのは気にしないことにする（ぉ
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;/div&gt;
</span><span style="color:#e6db74">
</span></code></pre></div>
        </div>
        <div class="entry__footer">
            <div class="entry__footer-date">
                
                更新日：<time
                    datetime="2015-09-22T17:12:05JST">2015/09/22</time>
                
                </P>
            </div>

            <div class="entry__footer-buttons">
                
                <span class="entry__footer-share">
                    
                    
                        
                    
                    
                    <ul>
                        
                        <li><a class="entry__footer-sns-buttons-icon-hatebu" href="https://b.hatena.ne.jp/my/add.confirm?title=%E4%B8%80%E5%B9%B4%E3%81%B6%E3%82%8A%EF%BC%9A&#43;HTML5&#43;Canvas&#43;%E3%81%AB%E6%8C%91%E6%88%A6%E3%81%97%E3%81%9F%E3%81%A3%E3%81%9F%E3%80%82&#43;%7C&#43;%E3%81%A0%E3%82%8B%E3%82%84%E3%81%AA%E3%81%8E&amp;url=http%3A%2F%2Fdaruyanagi.net%2Fentry%2F2015%2F09%2F22%2F171205%2F" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-hatebu">hatena</i>
                        </a></li>
                        
                        <li><a class="entry__footer-sns-buttons-icon" href="https://twitter.com/intent/tweet?text=%E4%B8%80%E5%B9%B4%E3%81%B6%E3%82%8A%EF%BC%9A&#43;HTML5&#43;Canvas&#43;%E3%81%AB%E6%8C%91%E6%88%A6%E3%81%97%E3%81%9F%E3%81%A3%E3%81%9F%E3%80%82&#43;%7C&#43;%E3%81%A0%E3%82%8B%E3%82%84%E3%81%AA%E3%81%8E&amp;url=http%3A%2F%2Fdaruyanagi.net%2Fentry%2F2015%2F09%2F22%2F171205%2F" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-twitter">twitter</i>
                        </a></li>
                        
                        <li><a class="entry__footer-sns-buttons-icon" href="https://www.facebook.com/sharer.php?u=http%3A%2F%2Fdaruyanagi.net%2Fentry%2F2015%2F09%2F22%2F171205%2F" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-facebook">facebook</i>
                        </a></li>
                        
                        <li><a class="entry__footer-sns-buttons-icon" href="https://getpocket.com/edit?title=%E4%B8%80%E5%B9%B4%E3%81%B6%E3%82%8A%EF%BC%9A&#43;HTML5&#43;Canvas&#43;%E3%81%AB%E6%8C%91%E6%88%A6%E3%81%97%E3%81%9F%E3%81%A3%E3%81%9F%E3%80%82&#43;%7C&#43;%E3%81%A0%E3%82%8B%E3%82%84%E3%81%AA%E3%81%8E&amp;url=http%3A%2F%2Fdaruyanagi.net%2Fentry%2F2015%2F09%2F22%2F171205%2F" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-get-pocket">pocket</i>
                        </a></li>
                        <li><a class="entry__footer-sns-buttons-icon" href="https://line.me/R/msg/text/?%e4%b8%80%e5%b9%b4%e3%81%b6%e3%82%8a%ef%bc%9a%20HTML5%20Canvas%20%e3%81%ab%e6%8c%91%e6%88%a6%e3%81%97%e3%81%9f%e3%81%a3%e3%81%9f%e3%80%82%20%7c%20%e3%81%a0%e3%82%8b%e3%82%84%e3%81%aa%e3%81%8e http://daruyanagi.net/entry/2015/09/22/171205/" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-line">line</i>
                        </a></li>
                        
                        <li><a class="entry__footer-sns-buttons-icon" href="https://www.reddit.com/submit?title=%E4%B8%80%E5%B9%B4%E3%81%B6%E3%82%8A%EF%BC%9A&#43;HTML5&#43;Canvas&#43;%E3%81%AB%E6%8C%91%E6%88%A6%E3%81%97%E3%81%9F%E3%81%A3%E3%81%9F%E3%80%82&#43;%7C&#43;%E3%81%A0%E3%82%8B%E3%82%84%E3%81%AA%E3%81%8E&amp;url=http%3A%2F%2Fdaruyanagi.net%2Fentry%2F2015%2F09%2F22%2F171205%2F" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-reddit">reddit</i>
                        </a></li>
                        
                        <li><a class="entry__footer-sns-buttons-icon" href="https://www.linkedin.com/shareArticle?mini=true&amp;title=%E4%B8%80%E5%B9%B4%E3%81%B6%E3%82%8A%EF%BC%9A&#43;HTML5&#43;Canvas&#43;%E3%81%AB%E6%8C%91%E6%88%A6%E3%81%97%E3%81%9F%E3%81%A3%E3%81%9F%E3%80%82&#43;%7C&#43;%E3%81%A0%E3%82%8B%E3%82%84%E3%81%AA%E3%81%8E&amp;url=http%3A%2F%2Fdaruyanagi.net%2Fentry%2F2015%2F09%2F22%2F171205%2F" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-linkedin-in">linkedin</i>
                        </a></li>
                        
                        <li><a class="entry__footer-sns-buttons-icon" href="https://pinboard.in/popup_login/?title=%E4%B8%80%E5%B9%B4%E3%81%B6%E3%82%8A%EF%BC%9A&#43;HTML5&#43;Canvas&#43;%E3%81%AB%E6%8C%91%E6%88%A6%E3%81%97%E3%81%9F%E3%81%A3%E3%81%9F%E3%80%82&#43;%7C&#43;%E3%81%A0%E3%82%8B%E3%82%84%E3%81%AA%E3%81%8E&amp;url=http%3A%2F%2Fdaruyanagi.net%2Fentry%2F2015%2F09%2F22%2F171205%2F" target="_blank" rel="noopener noreferrer">
                            <i class="fas fa-thumbtack">pinboard</i>
                        </a></li>
                    </ul>
                </span>
            </div>
            
            <div class="entry__footer-buttons">
                <span class="entry__footer-prev">
                     <a class="entry__page-navigation-link" href="http://daruyanagi.net/entry/2015/09/23/084635/">&laquo; prev</a> 
                </span>
                <span class="entry__footer-next">
                     <a class="entry__page-navigation-link" href="http://daruyanagi.net/entry/2015/09/20/164754/">次 &raquo; </a> 
                </span>
            </div>
        </div>

    </article>

        </main>

        <footer class="global-footer">
            <p>&copy; 2020 daruyanagi.</p>

        </footer>
    </body>
</html>