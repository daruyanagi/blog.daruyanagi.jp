<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <base href="https://daruyanagi.net/" />
        <link rel="canonical" href="https://daruyanagi.net/entry/2012/11/16/042840/" />

        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title> 
            WebMatrix で数式を表現する（１） | だるやなぎ
        </title>

        

        
            
        

        
            <meta name="description" content="まず考えられる方法は Google Chart Tools — Google Developers を利用することです。TeX の数式を画像ファイルに変換してくれます。
 Mathematical Formulas - Infographics (Deprecated) — Google Developers Deprecated（非推奨）になっているのが気になりますけれど、まぁ、使えなくなるまで使えばいいんじゃないでしょうか。TeX による数式表現は業界標準（？）でもあるんで、万が一使えなくなってもいろいろ対処法はあるかと。あと、はてな記法でも使えるので覚えておくと使うことがあるかもしれない。必要なパラメーターは、  cht=tx chl=DATA で、DATA は TeX による数式表現を URL エンコードしたものになります。たとえばこんな感じ。```html # Default.cshtml @{
}
&lt;html lang=&quot;ja&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&rdquo; /&gt; &lt;title&gt;マイ サイトのタイトル&lt;/title&gt; &lt;link href=&quot;~/favicon.ico&rdquo; rel=&quot;shortcut icon&rdquo; type=&quot;image/x-icon&rdquo; /&gt; &lt;/head&gt; &lt;body&gt; &lt;img src=&quot;http://chart.apis.google.com/chart?cht=tx&amp;chl=@UrlEncode(@&quot;\bar{H}{n&#43;2}(x) = \sqrt{\frac{2}{n&#43;2}} x \bar{H}{n&#43;1}(x) \sqrt{\frac{n&#43;1}{n&#43;2}} \bar{H}_n(x)&quot;);&rdquo; /&gt; &lt;/body&gt; &lt;/html&gt;
&lt;ul&gt; &lt;li&gt;\hoge：文字 hoge の埋め込み（\alpha で α）&lt;/li&gt; &lt;li&gt;\hoge{}：引数をとって hoge る（\sqrt{0} なら √ {0}、\frac{0}{1} なら分数 {0} / {1} ）&lt;/li&gt; &lt;li&gt;^{Hoge}：上付き文字（指数とか）&lt;/li&gt; &lt;li&gt;_{hoge}：下付き文字（添え字とか）&lt;/li&gt; &lt;/ul&gt;の4つだけ覚えている。あとはググる。 &lt;div class=&quot;section&quot;&gt; ### ヘルパー化 さて、毎回イメージタグを書くのは不毛なので、これをヘルパー化することを考えましょう。たとえばこんな感じ。 ```html #App_Code\GoogleChart." />
        

        
        
        <link rel="stylesheet" href="css/style.css">

    </head>
    <body class="body">

        <header class="global-header">
            <h1><a href="/" >だるやなぎ</a></h1>

<p>そうだ、だるだるしよう。</p>


        </header>

        <main>
            
    <article class="entry">

        <div class="entry__header">
            <div class="entry__header-taxonomies">
                
                
                    <div class="entry__header-taxonomies-category">
                        <span class="entry__header-taxonomies-category-title">
                            <a class="entry__header-taxonomies-category-title-link" href="https://daruyanagi.net/entry/">
                                Entries
                            </a>
                        </span>
                    </div>
                
                
                    <div class="entry__header-taxonomies-tags">
                        <ul class="entry__header-taxonomies-tags-list" >
                            
                                
                                
                                    <li class="entry__header-taxonomies-tags-list-item">
                                        <a class="entry__header-taxonomies-tags-list-itelink" href="https://daruyanagi.net/tags/asp.net-web-pages/">ASP.net Web Pages</a>
                                    </li>
                                
                            
                                
                                
                                    <li class="entry__header-taxonomies-tags-list-item">
                                        <a class="entry__header-taxonomies-tags-list-itelink" href="https://daruyanagi.net/tags/webmatrix/">WebMatrix</a>
                                    </li>
                                
                            
                        </ul>
                    </div>
                
            </div>

            <div class="entry__header-title">
                <a class="entry__header-title-link" href="https://daruyanagi.net/entry/2012/11/16/042840/" >
                    <h1 class="entry__header-title-link-text">WebMatrix で数式を表現する（１）</h1>
                </a>
            </div>

            <div class="entry__header-date">
                <P>公開日：<time>2012/11/16</time>
                </P>
            </div>

        </div>
        <div class="entry__content">
            <p><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/d/daruyanagi/20121116/20121116034508.png" alt="f:id:daruyanagi:20121116034508p:plain" title="f:id:daruyanagi:20121116034508p:plain" class="hatena-fotolife"/>まず考えられる方法は <a href="https://developers.google.com/chart/?hl=ja">Google Chart Tools — Google Developers</a> を利用することです。TeX の数式を画像ファイルに変換してくれます。</p>
<ul>
<li><a href="https://developers.google.com/chart/infographics/docs/formulas">Mathematical Formulas - Infographics (Deprecated) — Google Developers</a></li>
</ul>Deprecated（非推奨）になっているのが気になりますけれど、まぁ、使えなくなるまで使えばいいんじゃないでしょうか。TeX による数式表現は業界標準（？）でもあるんで、万が一使えなくなってもいろいろ対処法はあるかと。あと、はてな記法でも使えるので覚えておくと使うことがあるかもしれない。必要なパラメーターは、
<ul>
<li>cht=tx</li>
<li>chl=DATA</li>
</ul>で、DATA は TeX による数式表現を URL エンコードしたものになります。たとえばこんな感じ。<img src="http://cdn-ak.f.st-hatena.com/images/fotolife/d/daruyanagi/20121116/20121116035411.png" alt="f:id:daruyanagi:20121116035411p:plain" title="f:id:daruyanagi:20121116035411p:plain" class="hatena-fotolife"/>
```html
# Default.cshtml
<p>@{</p>
<p>}</p>
<p>&lt;html lang=&quot;ja&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&rdquo; /&gt;
&lt;title&gt;マイ サイトのタイトル&lt;/title&gt;
&lt;link href=&quot;~/favicon.ico&rdquo; rel=&quot;shortcut icon&rdquo; type=&quot;image/x-icon&rdquo; /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;img src=&quot;http://chart.apis.google.com/chart?cht=tx&amp;chl=@UrlEncode(@&quot;\bar{H}<em>{n+2}(x) = \sqrt{\frac{2}{n+2}} x \bar{H}</em>{n+1}(x) \sqrt{\frac{n+1}{n+2}} \bar{H}_n(x)&quot;);&rdquo; /&gt;
&lt;/body&gt;
&lt;/html&gt;</p>
<pre><code class="language-まぁ、" data-lang="まぁ、">
&lt;ul&gt;
&lt;li&gt;\hoge：文字 hoge の埋め込み（\alpha で α）&lt;/li&gt;
&lt;li&gt;\hoge{}：引数をとって hoge る（\sqrt{0} なら √ {0}、\frac{0}{1} なら分数 {0} / {1} ）&lt;/li&gt;
&lt;li&gt;^{Hoge}：上付き文字（指数とか）&lt;/li&gt;
&lt;li&gt;_{hoge}：下付き文字（添え字とか）&lt;/li&gt;
&lt;/ul&gt;の4つだけ覚えている。あとはググる。

&lt;div class=&quot;section&quot;&gt;
    ### ヘルパー化
    さて、毎回イメージタグを書くのは不毛なので、これをヘルパー化することを考えましょう。たとえばこんな感じ。
```html
#App_Code\GoogleChart.cshtml

@helper Formula(string tex_expression){
    const string API = &quot;http://chart.apis.google.com/chart?cht={0}&amp;amp;chl={1}&quot;;
    var cht = &quot;tx&quot;;
    var chl = HttpUtility.UrlEncode(tex_expression);
    &amp;lt;img src=&quot;@string.Format(API, cht, chl)&quot; /&gt;
}

```使い方はこんな感じ。
```html
# Default.cshtml

@{
    
}



&amp;lt;html lang=&quot;ja&quot;&gt;
    &amp;lt;head&gt;
        &amp;lt;meta charset=&quot;utf-8&quot; /&gt;
        &amp;lt;title&gt;マイ サイトのタイトル&amp;lt;/title&gt;
        &amp;lt;link href=&quot;~/favicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; /&gt;
    &amp;lt;/head&gt;
    &amp;lt;body&gt;
        @GoogleChart.Formula(@&quot;\bar{H}_{n+2}(x) = \sqrt{\frac{2}{n+2}} x \bar{H}_{n+1}(x) \sqrt{\frac{n+1}{n+2}} \bar{H}_n(x)&quot;)
    &amp;lt;/body&gt;
&amp;lt;/html&gt;

</code></pre></div>
<div class="section">
    ### 注意
    リクエストのリミットはとくに決まっていないようですが、250,000/日 を超える場合は chart-api-notifications@google.com に連絡しなければいけないそうです。
</div>

        </div>
        <div class="entry__footer">
            
            <div class="entry__footer-navigation">
                <span class="entry__footer-prev">
                     <a class="entry__page-navigation-link" href="https://daruyanagi.net/entry/2012/11/16/044615/">&laquo; 前の記事</a> 
                </span>
                <span class="entry__footer-lastmod">
                    
                    最終更新日：<time
                        datetime="2012-11-16T04:28:40JST">2012/11/16</time>
                    
                </span>
                <span class="entry__footer-next">
                     <a class="entry__page-navigation-link" href="https://daruyanagi.net/entry/2012/11/15/204638/">次の記事 &raquo; </a> 
                </span>
            </div>
        </div>

    </article>

        </main>

        <footer class="global-footer">
            <p>&copy; 2020 daruyanagi.</p>

        </footer>
    </body>
</html>