
+++
date = "2015-01-05 16:35:09 +0000 UTC"
draft = false
title = "ブログにかっちょいいグラフを張り付ける"
tags = ["Google","JavaScript "]

+++
<a href="https://blog.daruyanagi.jp/entry/2015/01/04/000000">去年 Amazonで使った金額を計算してみた。 - だるろぐ</a> でグラフを張り付けようと思ったのだけど、「Excel」で作って画像として貼り付けるよりも、Google Chart<a href="https://developers.google.com/chart/">Charts  |  Google Developers</a> で張り付けた方がカッコイイっぽいことに気付いた。{{< figure src="/images/20150105162759.png"  >}}最近は Material Charts と呼ばれる SVG で実装されたリッチなグラフが書けるようになっている（そのため、古い Internet Explorer では表示できないので注意）。たとえば、グラフにマウスオーバーすると数値が表示されたり。かっちょいい。ただし、ベータ版であることには留意しておこう。

<div class="section">
    ### コード
    ```javascript
&lt;script type="text/javascript" src="https://www.google.com/jsapi">&lt;/script>
&lt;script type="text/javascript">
	google.load("visualization", "1.1", {packages:["bar"]});
	google.setOnLoadCallback(drawChart);

	function drawChart() {
		var data = google.visualization.arrayToDataTable([
			[&#39;Year&#39;, &#39;合計金額&#39;],
			[&#39;2006&#39;, 71180 ],
			[&#39;2007&#39;, 283066 ],
			[&#39;2008&#39;, 66638 ],
			[&#39;2009&#39;, 35289 ],
			[&#39;2010&#39;, 93949 ],
			[&#39;2010&#39;, 93949 ],
			[&#39;2011&#39;, 258747 ],
			[&#39;2012&#39;, 277831 ],
			[&#39;2013&#39;, 186103  ],
			[&#39;2014&#39;, 258747 ],
		]);

		var options = {
			chart: {
				title: &#39;Amazon 年間消費金額&#39;,
				subtitle: &#39;2006-2014&#39;,
			}
		};

		var chart = new google.charts.Bar(document.getElementById(&#39;chart_div&#39;));
		chart.draw(data, options);
	}
&lt;/script>
&lt;div id="chart_div" style="width: 540px; height: 360px;">&lt;/div>

```詳しい使い方は <a href="https://developers.google.com/chart/interactive/docs/gallery/columnchart">Visualization: Column Chart  |  Charts  |  Google Developers</a> で。円グラフとかも今度試してみようかな。

</div>
<div class="section">
    ### 結果
    マウスオーバーしてみるといいやで。<script type="text/javascript" src="https://www.google.com/jsapi"></script><br/>
<script type="text/javascript">
	google.load("visualization", "1.1", {packages:["bar"]});
	google.setOnLoadCallback(drawChart);

	function drawChart() {
		var data = google.visualization.arrayToDataTable([
			['Year', '合計金額'],
			['2006', 71180 ],
			['2007', 283066 ],
			['2008', 66638 ],
			['2009', 35289 ],
			['2010', 93949 ],
			['2010', 93949 ],
			['2011', 258747 ],
			['2012', 277831 ],
			['2013', 186103  ],
			['2014', 258747 ],
		]);

		var options = {
			chart: {
				title: 'Amazon 年間消費金額',
				subtitle: '2006-2014',
			}
		};

		var chart = new google.charts.Bar(document.getElementById('chart_div'));
		chart.draw(data, options);
	}
</script><br/>
<div id="chart_div" style="width: 540px; height: 360px;"></div>

</div>

