
+++
date = "2012-05-27 16:07:04 +0000 UTC"
draft = false
title = "シリアライズを利用したアプリケーションの設定保存"
tags = ["C#"]

+++
アプリケーションの設定保存はいくつか方法があるけど、XMLシリアライズを使うのが一番楽な気がする。
```csharp
var settings = Settings.FromFile();

settings.ToFile();

```って感じに使うようにしてみた（<a href="http://daruyanagi.net/Type08ScreenCapture">Type08ScreenCapture - Daruboard</a> のコードの一部）。

<ul>
<li>パブリックフィールドおよびプロパティしか保存されない</li>
<li>引数のないコンストラクタが必要</li>
</ul>なのが注意なのかな。<script src="https://gist.github.com/2802525.js"> </script>FromFile() では、クラスの設計が変わってシリアライズがうまくいかなくなったら古い設定ファイルを破棄して、デフォルト値の設定を返すようにしている。ここのところをちゃんとしようと思ったらめんどくさそうなので、あくまでもちょろっとしたアプリを作るときにしか使えないのかもしれない。


