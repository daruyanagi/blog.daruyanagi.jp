<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Slack on だるやなぎ</title>
    <link>https://daruyanagi.net/tags/slack/</link>
    <description>Recent content in Slack on だるやなぎ</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Sat, 03 Feb 2018 05:43:29 +0000</lastBuildDate>
    
	<atom:link href="https://daruyanagi.net/tags/slack/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>日記：金曜日は半休にして Trello＋Slack を試した＆テントを張る練習をした</title>
      <link>https://daruyanagi.net/entry/2018/02/03/054329/</link>
      <pubDate>Sat, 03 Feb 2018 05:43:29 +0000</pubDate>
      
      <guid>https://daruyanagi.net/entry/2018/02/03/054329/</guid>
      <description>金曜日は少しだけお仕事をして、あとはダラダラと過ごした。
### Trello＋Slack Powered by Mictosoft Flow まずは、業務が回っているとなかなか手を出せない、業務フローの改善に着手（半分趣味なので、これはあまり仕事って感じはしない）。今回は「Trello にカードを作って、そのことを Slack にも伝える」というアホの極みな無駄を減らしてみた。コードを書くのはだるいので、なるべく Microsoft Flow を使う。Microsoft Flow には Trello 関係のトリガー（If...then... の if）として    新しいカードがボードに追加された場合 新しいカードがリストに追加された場合 が利用できる。なので、「特定のリストにカードが追加されたら……」というアクションは簡単に記述できる――んだけど、その時もらえる情報は、新しく追加されたカードに関する情報だけなのだ。つまり  新しいカードが追加されたら Slack にそれを投げる というフローは割と楽に書けるんだけど、  新しいカードがリストに追加されたら、そのリストに溜まっているカードのリストを Slack に投げる というフローはひと手間かかる。Microsoft Flow には「ID でリストを取得する」というアクションがあって、それを使うと「リストの中のカード」が取得できるので、これを使えばよい――んだけど、ちょっとハマった。なぜか「リストの中のカード」を得ようとしても null しか返ってこない。  理由はわかってみれば簡単で、「ID でリストを取得する」アクションは既定で「リストを取得するだけ」になっていて、子のカードまで取ってきてくれない。拡張オプションで、一緒に取ってくるデータをいろいろ指定してあげなくちゃいけないんだね。とりあえず“all”とか“open”とかにしておくと、リストの中のカードまで取ってきてくれると思う。あと、JST で現在時刻をとるのが最初よくわからなかった。Microsoft Flow って UtcNow() っていう関数が使えるのだけど（名前の通り、標準世界時で現在日時を取得する）、これって帰ってくるのが文字列名のな。AddHours(9) で日本時間にしてやろうとしても受け付けてくれない。アッーーー！　なんだこの面倒くささ！　結局、こんなキモいコードになったんだけど、もっといい方法はないだろうか……。 ``` convertTimeZone(utcnow(),&amp;#39;UTC&amp;#39;,&amp;#39;Tokyo Standard Time&amp;#39;,&amp;#39;dd/MM/yyyy HH:mm&amp;#39;) ```ちなみに、リストの結合の区切り文字なんかに改行コードをぶち込みたい場合は、以下のようにする。 ``` uriComponentToString(&amp;#39;%0A&amp;#39;) ```\nなんかではエスケープされるのか、そのまま出力されてしまうので、最初ちょっと悩んだ。今でもわからないのは Trello のカードについたラベルを適当にテキストとして出力する方法……C# コードだったら一瞬で頭に浮かぶのに、**ブロックで記述しろっていわれると逆にわかんなくなる**という……つらたん、つらたん。  ### テントの設営   午後は、押し入れからテントを引っ張り出して、ベランダに設営して遊んだ。このテントは、バイクでソロキャンプに行きたいなとずっと思ってて、愛媛に来る前に購入したものだ。愛媛にきてもう4年になるから、それ以上の間ずっと、押し入れで脾肉の嘆にくれていたわけやな……すまん……すまん。  ちなみに、今頃になってキャンプ道具を引っ張り出す気になったのは――べ、べつに、今期の大傑作アニメ『ゆるキャン』に触発されたからじゃないんだからねっ！　前々からやりたいと思っていて、ちょくちょく装備を整えていたんだからねっ！　たまたまやりたくなってしまっただけなんだからねっ！それはともかく、自分がもっていたのはどうやら、モンベルのクロノスドーム 1 型という安い一人用のテント（の旧モデル）だったみたい。塩漬けにし過ぎて、どのメーカーの、どんなモデルを持っていたのかすら覚えてなかったぜ……。モンベル(mont-bell) クロノスドーム1型 スカイブルー [1~2人用] 1122370出版社/メーカー: モンベル(mont-bell)発売日: 2012/03/02メディア: スポーツ用品この商品を含むブログを見る広げてみたところ、傷みや欠品はなく、十分使えそう。  先週あたりに購入したバイクのサイドバッグにもキッチリ（マジで横幅ギリギリ）収まる。タナックス (TANAX) ツアーシェルケース モトフィズ(MOTOFIZZ) ヘアラインシルバー MFK-196 (容量40?</description>
    </item>
    
  </channel>
</rss>