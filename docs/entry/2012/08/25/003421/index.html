
<!doctype html>
<html lang="en">
  <head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ã„ã‚ã‚†ã‚‹ã€Œã ã‚‹ã‚ãã€">
<meta name="author" content="daruyanagi">
<meta name="generator" content="Hugo">
<title>WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆ3ï¼‰ â€•â€• ãªã«ã¯ã¨ã‚‚ã‚ã‚Œãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã—ãªã„ã¨å§‹ã¾ã‚‰ã‚“ - blog.daruyanagi.jp</title>


<link href="/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">


<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/favicon.ico">
<meta name="theme-color" content="#563d7c">


    
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-53152247-5"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-53152247-5');
        </script>
    
<meta name="og:title"         property="og:title" content="WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆ3ï¼‰ â€•â€• ãªã«ã¯ã¨ã‚‚ã‚ã‚Œãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã—ãªã„ã¨å§‹ã¾ã‚‰ã‚“" />
    <meta name="og:site_name"     property="og:site_name" content="blog.daruyanagi.jp" />
    <meta name="og:description"   property="og:description" content="br/&gt; WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ â€•â€• æº–å‚™ç·¨ - ã ã‚‹ã‚ã WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆ2ï¼‰ â€•â€• WebSecurityã£ã¦ã©ã†ã‚„ã£ã¦ä½¿ã†ã‚“ã ï¼Ÿ - ã ã‚‹ã‚ã ã®ã‚“ã³ã‚Šã‚„ã£" />
    
    <meta name="og:type"          property="og:type" content="article" />
    
    
    <meta name="og:image"         property="og:image" src="https://blog.daruyanagi.jp/no-image.png"  content="https://blog.daruyanagi.jp/no-image.png"  alt="">
    
    <meta name="fb:admins"        property="fb:admins" content="2150442315382" />
    <meta name="twitter:card"     property="twitter:card" content="summary" />
    <meta name="twitter:url"      property="twitter:card" content="https://blog.daruyanagi.jp/entry/2012/08/25/003421/" />
    <meta name="twitter:site"     property="twitter:card" content="@daruyanagi" />

    
    <link href="/css/styles.css" rel="stylesheet">
  
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a href="/" class="navbar-brand"><img src="/logo.png" height="30" alt=""> blog.daruyanagi.jp</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <span  class="navbar-text">ã„ã‚ã‚†ã‚‹ã€Œã ã‚‹ã‚ãã€</span>
                    </li>
                </ul>

            <form class="form-inline" action="/search">
                <div class="input-group">
                  <input name="q" id="q" type="text" class="form-control" spellcheck="false" data-ms-editor="true">
                  <div class="input-group-append">
                    <button type="submit" class="btn btn-primary">Find</button>
                  </div>
                </div>
            </form>
            </div>   
        </div>
    </nav>

    <main role="main">
<article class="container" style="margin-top: 3rem;">
    <h1>WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆ3ï¼‰ â€•â€• ãªã«ã¯ã¨ã‚‚ã‚ã‚Œãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã—ãªã„ã¨å§‹ã¾ã‚‰ã‚“</h1>
    
    <p class="published text-right">
        å…¬é–‹æ—¥ï¼š<time>
            2012/08/25
        </time>        
    </p>

    <figure>
    <img src="/images/20120824233928.png"/> 
</figure>

<p>br/&gt;</p>
<ul>
<li><a href="https://blog.daruyanagi.jp/entry/2012/08/24/095023">WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ â€•â€• æº–å‚™ç·¨ - ã ã‚‹ã‚ã</a></li>
<li><a href="https://blog.daruyanagi.jp/entry/2012/08/24/105121">WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆ2ï¼‰ â€•â€• WebSecurityã£ã¦ã©ã†ã‚„ã£ã¦ä½¿ã†ã‚“ã ï¼Ÿ - ã ã‚‹ã‚ã</a></li>
</ul>ã®ã‚“ã³ã‚Šã‚„ã£ã¦ã„ã“ã†ã€‚ä»Šå›ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã™ã‚‹ã§ã€‚
```cs
@{
    var name = "";
    var password = "";
    var confirmPassword = "";
<pre><code>if (IsPost)
{
    name = Request.Form[&quot;name&quot;];
    password = Request.Form[&quot;password&quot;];
    confirmPassword = Request.Form[&quot;confirmPassword&quot;];

    // ã“ã“ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå€¤ãŒå¦¥å½“ãªã‚‚ã®ã‹æ¤œè¨¼ï¼‰ã™ã‚‹

    if (Validation.IsValid())
    {
        if (WebSecurity.GetUserId(name) &gt; -1)
        {
            ModelState.AddFormError(&quot;Username alredy exists&quot;);
        }
        else
        {
            try
            {
                WebSecurity.CreateUserAndAccount(
                    name, password, new { Name = name });
                WebSecurity.Login(name, password);
                Response.Redirect(&quot;~/&quot;);
            }
            catch (Exception e)
            {
                ModelState.AddFormError(e.Message);
            }
        }
    }
}
</code></pre>
<p>}</p>
<pre><code class="language-ã¾ãšã¯ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–¢é€£ã®è¨˜è¿°ã‚’ã¨ã£ã±ã‚‰ã£ãŸã‚µãƒ¼ãƒãƒ¼å´ã®ã‚³ãƒ¼ãƒ‰<a" data-lang="ã¾ãšã¯ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–¢é€£ã®è¨˜è¿°ã‚’ã¨ã£ã±ã‚‰ã£ãŸã‚µãƒ¼ãƒãƒ¼å´ã®ã‚³ãƒ¼ãƒ‰<a">
&lt;ol&gt;
&lt;li&gt;ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰å€¤ã‚’å—ã‘å–ã‚‹&lt;/li&gt;
&lt;li&gt;å€¤ã‚’ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³&lt;/li&gt;
&lt;li&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã«ãƒ€ãƒ–ã‚ŠãŒãªã„ã‹ç¢ºèª&lt;/li&gt;
&lt;li&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ&lt;/li&gt;
&lt;li&gt;ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ&lt;/li&gt;
&lt;li&gt;ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰é©å®œ ModelState ã«ç™»éŒ²ã—ã¦ãŠã&lt;/li&gt;
&lt;/ol&gt;ã¿ãŸã„ãªæ„Ÿã˜ã€‚

&lt;div class=&quot;section&quot;&gt;
    ### WebSecurity.CreateUserAndAccount()
    WebSecurity ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆé–‹ç™ºè€…ãŒç®¡ç†ï¼‰ã¨ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆã‚·ã‚¹ãƒ†ãƒ ãŒç®¡ç†ï¼‰ã«ã‚ã‘ã¦ç®¡ç†ã—ã¦ã„ã‚‹ï¼ˆ&lt;a href=&quot;https://blog.daruyanagi.jp/entry/2012/08/24/105121&quot;&gt;WebMatrix ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆ2ï¼‰ â€•â€• WebSecurityã£ã¦ã©ã†ã‚„ã£ã¦ä½¿ã†ã‚“ã ï¼Ÿ - ã ã‚‹ã‚ã&lt;/a&gt;ï¼‰ã€‚ä¸¡è€…ã¯åŒã˜ UserId ã§ç´ä»˜ã‘ã‚‰ã‚Œã‚‹ä»•çµ„ã¿ã ã€‚ WebSecurity.CreateUserAndAccount() ã¯ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆã‚’åŒæ™‚ã«è¡Œã†ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã«æŒ¿å…¥ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ã€ç¬¬ä¸‰å¼•æ•°ã§åŒ¿åã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸ãˆã‚Œã°ã‚ˆã„ã€‚ä»Šå›ã¯åå‰ã ã‘ã‚’ç™»éŒ²ã—ã¦ãŠã„ãŸã€‚ã¡ãªã¿ã« WebSecurity.Create() ã ã‘ã‚’ä½¿ã£ãŸå ´åˆã€ã•ãã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ UserId ã¨ãã®ã»ã‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥ã—ã¦ãŠã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚â€œStarter Siteâ€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ãã‚Œã‚’ SQL ã§è¡Œãªã£ã¦ã„ã‚‹ã€‚
```cs
if (Validation.IsValid())
{
    var db = Database.Open(App.Database);

    var user = db.QuerySingle(
        &quot;SELECT Name FROM Users WHERE LOWER(Name) = LOWER(@0)&quot;,
        name);

    if (user == null)
    {
        db.Execute(
            &quot;INSERT INTO Users (Name) VALUES (@0)&quot;, name);
        WebSecurity.CreateAccount(name, password);

```ã’ã‚ã’ã‚ã†ã’ãƒ¼ã€‚
```cs
if (Validation.IsValid())
{
    if (WebSecurity.GetUserId(name) &gt; -1)
    {
        ModelState.AddFormError(&quot;Username alredy exists&quot;);
    }
    else
    {
        try
        {
            WebSecurity.CreateUserAndAccount(
                name, password, new { Name = name });

```çµ¶å¯¾ã“ã£ã¡ã«ã™ã‚‹ã‚„ã‚ã€‚ã›ã£ã‹ã WebSecurity Helper ã‚’ä½¿ã†ã‚“ã ã‹ã‚‰ã€å¤§ã„ã«é ¼ã‚Œã°ã‚ˆã‚ã—ã„ã€‚

<figure>
    <img src="/images/20120825001002.png"/> 
</figure>


br/&gt;


&lt;/div&gt;
&lt;div class=&quot;section&quot;&gt;
    ### ModelState
    ModelState ã¯ WebPage ã«å±ã—ã¦ãŠã‚Šã€ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¨ãƒ©ãƒ¼ã‚’ç®¡ç†ã™ã‚‹ã‚‚ã®ã ã¨ã§ã‚‚ç†è§£ã—ã¦ãŠãã€‚ ModelState.AddFormError() ã§ãƒ•ã‚©ãƒ¼ãƒ é–¢é€£ã®ã‚¨ãƒ©ãƒ¼ãŒç™»éŒ²ã§ãã‚‹ã‚“ã ãªã€‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£ã®ã‚³ãƒ¼ãƒ‰ã¯ã“ã‚“ãªæ„Ÿã˜ï¼ˆâ€œStarter Siteâ€ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’ãƒ‘ã‚¯ã£ã¦ããŸï¼‰ã€‚
```cs
Validation.RequireField(&quot;name&quot;, 
    &quot;é›»å­ãƒ¡ãƒ¼ãƒ« ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚&quot;);
Validation.RequireField(&quot;password&quot;, 
    &quot;ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç©ºç™½ã«ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚&quot;);
Validation.Add(&quot;confirmPassword&quot;,ã€€Validator.EqualsTo(
    &quot;password&quot;, &quot;ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨ç¢ºèªã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“ã€‚&quot;)
);
Validation.Add(&quot;password&quot;,
    Validator.StringLength(
        maxLength: Int32.MaxValue,
        minLength: 6,
        errorMessage: &quot;ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ 6 æ–‡å­—ä»¥ä¸Šã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™&quot;
    )
);

```èª­ã‚€ã ã‘ã§ä½•ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã‚ã‹ã‚‹ã®ãŒã„ã„ã€‚è¡¨ç¤ºéƒ¨åˆ†ã¯ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ãªã£ã¦ã„ãŸã€‚
```cs
&amp;lt;section id=&quot;register&quot;&gt;
    &amp;lt;form method=&quot;post&quot;&gt;
        @Html.ValidationSummary(&quot;Log in was unsuccessful.&quot; + 
            &quot;Please correct the errors and try again.&quot;,
            excludeFieldErrors: true, htmlAttributes: null)

        &amp;lt;fieldset&gt;
            &amp;lt;legend&gt;Register Your Account&amp;lt;/legend&gt;
            &amp;lt;ol&gt;
                @RenderFormInputWithValidation(this, &quot;name&quot;)
                &amp;lt;li class=&quot;name&quot;&gt;
                    &amp;lt;label for=&quot;name&quot; @if (!ModelState.IsValidField(&quot;name&quot;)) {&amp;lt;text&gt;class=&quot;error-label&quot;&amp;lt;/text&gt;}&gt;Name&amp;lt;/label&gt; 
                    &amp;lt;input type=&quot;text&quot;
                        id=&quot;name&quot; name=&quot;name&quot; value=&quot;@name&quot;
                        @Validation.For(&quot;name&quot;) /&gt;
                    @Html.ValidationMessage(&quot;name&quot;)
                &amp;lt;/li&gt;
                &amp;lt;li class=&quot;password&quot;&gt;
                    &amp;lt;label for=&quot;password&quot; @if (!ModelState.IsValidField(&quot;password&quot;)) {&amp;lt;text&gt;class=&quot;error-label&quot;&amp;lt;/text&gt;}&gt;Password&amp;lt;/label&gt; 
                    &amp;lt;input type=&quot;password&quot;
                        id=&quot;password&quot; name=&quot;password&quot;
                        @Validation.For(&quot;password&quot;)/&gt;
                    @Html.ValidationMessage(&quot;password&quot;)
                &amp;lt;/li&gt;
                &amp;lt;li class=&quot;confirm-password&quot;&gt;
                    &amp;lt;label for=&quot;confirm-password&quot; @if (!ModelState.IsValidField(&quot;confirmPassword&quot;)) {&amp;lt;text&gt;class=&quot;error-label&quot;&amp;lt;/text&gt;}&gt;confirmPassword&amp;lt;/label&gt; 
                    &amp;lt;input type=&quot;password&quot;
                        id=&quot;confirmPassword&quot; name=&quot;confirmPassword&quot;
                        @Validation.For(&quot;confirmPassword&quot;)/&gt;
                    
                    @Html.ValidationMessage(&quot;confirmPassword&quot;)
                &amp;lt;/li&gt;
            &amp;lt;/ol&gt;
            &amp;lt;input type=&quot;submit&quot; value=&quot;Register&quot; /&gt;
        &amp;lt;/fieldset&gt;
    &amp;lt;/form&gt;
&amp;lt;/section&gt;

```ãã¡ã‚ƒãã¡ã‚ƒã—ã¦ã‚ã‹ã‚Šã«ãã„ãŒã€
```cs
@Html.ValidationSummary(&quot;Log in was unsuccessful.&quot; + 
    &quot;Please correct the errors and try again.&quot;,
    excludeFieldErrors: true, htmlAttributes: null)

```ã§ãƒšãƒ¼ã‚¸å…¨ä½“ã«ã¤ã„ã¦ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœã‚’è¡¨ç¤ºã™ã‚‹ã€‚

<figure>
    <img src="/images/20120825002435.png"/> 
</figure>


ã‚©ãƒ¼ãƒ ã®å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã€
```cs
&amp;lt;label for=&quot;name&quot; @if (!ModelState.IsValidField(&quot;name&quot;)) {&amp;lt;text&gt;class=&quot;error-label&quot;&amp;lt;/text&gt;}&gt;Name&amp;lt;/label&gt; 
&amp;lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; value=&quot;@name&quot; @Validation.For(&quot;name&quot;) /&gt;
@Html.ValidationMessage(&quot;name&quot;)

```ã“ã®ã‚³ãƒ¼ãƒ‰ã§ãƒ¯ãƒ³ã‚»ãƒƒãƒˆã¿ãŸã„ã€‚ Validation.For() ã¯ JavaScript ã«ã‚ˆã‚‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«å¿…è¦ãª data- å±æ€§ã‚’å‡ºåŠ›ã™ã‚‹ï¼ˆä»Šå›ã¯ä½¿ã£ã¦ãªã„ï¼‰ã€‚ Html.ValidationMessage() ã¯ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚Œã°è¡¨ç¤ºã™ã‚‹ã€‚ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã•ã£ã ModelState ã«ç™»éŒ²ã—ãŸã‚¨ãƒ©ãƒ¼ã‹ã‚‰å–å¾—ã™ã‚‹ã¿ãŸã„ã€‚

<figure>
    <img src="/images/20120825002611.png"/> 
</figure>


è€…ã®ã‚³ãƒ¼ãƒ‰ã¯ä½¿ã„ã¾ã‚ã›ãã†ãªã„ã‚ã°ã‚¤ãƒ‡ã‚£ã‚ªãƒ ãªã®ã§ã€ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‹æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ã«ã—ã¦ãŠãã¨ã‚ˆã•ãã†ã ã€‚ä»Šå›ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ã¿ãŸã‚ˆã€‚
```cs
~/App_Code/WebPageExtension.cs

using System.Linq;
using System.Web;
using System.Web.WebPages;
using System.Web.WebPages.Html;

public static class WebPageExtension
{
    private enum InputType
    {
        Text, Password, Checkbox, Textarea,
    }

    private static HtmlString RenderInputWithValidation(
        this WebPage target, InputType input_type,
        string name, string label = &quot;&quot;, object additional = null)
    {
        const string HTML_TAG = @&quot;
            &lt;div class=&quot;&quot; validation-input=&quot;&quot; {0}=&quot;&quot; {1}&quot;&quot;=&quot;&quot;&gt;&lt;/div&gt;
                &lt;label for=&quot;&quot; {0}&quot;&quot;=&quot;&quot;&gt;{2}&lt;/label&gt;
                &lt;input type=&quot;&quot; {3}&quot;&quot;=&quot;&quot; id=&quot;&quot; {0}&quot;&quot;=&quot;&quot; name=&quot;&quot; {0}&quot;&quot;=&quot;&quot; {4}=&quot;&quot; {5}=&quot;&quot;/&gt;
                {6}
            &quot;;
            
        var attrs = (additional == null)
            ? string.Empty
            : string.Join(&quot; &quot;, additional
                .GetType()
                .GetProperties()
                .Select((p) =&gt; string
                    .Format(&quot;{0}=\&quot;{1}\&quot;&quot;,
                        p.Name.ToLower(),
                        p.GetValue(additional)
                    )
                )
            );

        return new HtmlString(
            string.Format(
                HTML_TAG, name,
                target.ModelState.IsValidField(name)
                    ? string.Empty
                    : &quot;validation-failed&quot;,
                label.IsEmpty() ? name : label,
                input_type.ToString().ToLower(),
                attrs,
                target.Validation.For(name),
                target.Html.ValidationMessage(name)
            )
        );
    }

    public static HtmlString RenderTextWithValidation(
        this WebPage target, string name,
        string label = null, object additional = null)
    {
        return RenderInputWithValidation(
            target, InputType.Text, name, label, additional);
    }

    public static HtmlString RenderPasswordWithValidation(
        this WebPage target, string name,
        string label = null, object additional = null)
    {
        return RenderInputWithValidation(
            target, InputType.Password, name, label, additional);
    }

    public static HtmlString RenderCheckBoxWithValidation(
        this WebPage target, string name,
        string label = null, object additional = null)
    {
        return RenderInputWithValidation(
            target, InputType.Checkbox, name, label, additional);
    }
}

```ModelState ãŒ WebPage ã«å±ã™ã‚‹é–¢ä¿‚ã§ã€ WebPage ã‚¯ãƒ©ã‚¹ã®æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦å®šç¾©ã—ã¦ã‚ã‚‹ã€‚ã»ã‚“ã¨ã¯ HTML Helper ã«ã—ã¦ã€ @Html.TextWithValidation() ãªã©ã¨å‘¼ã¹ã‚‹æ–¹ãŒã‚«ãƒƒã‚³ã„ã„ãªã€‚ä»Šåº¦ã‚‚ã†å°‘ã—ã“ã®ã‚ãŸã‚Šã¯ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ã—ã¦ã¿ãŸã„ã€‚ã‚“ã§ã€ã“ã‚Œã‚’ä½¿ã£ã¦æ›¸ããªãŠã—ãŸè¡¨ç¤ºéƒ¨åˆ†ã¯ã“ã†ãªã‚‹ã€‚
```cs
&amp;lt;section id=&quot;register&quot;&gt;
    &amp;lt;form method=&quot;post&quot;&gt;
        @Html.ValidationSummary(
            &quot;Log in was unsuccessful.&quot; + 
            &quot;Please correct the errors and try again.&quot;,
            false, null)

        &amp;lt;fieldset&gt;
            &amp;lt;legend&gt;Register Your Account&amp;lt;/legend&gt;
            @this.RenderTextWithValidation(
                &quot;name&quot;, &quot;Name&quot;, new { Value = name} )
            @this.RenderPasswordWithValidation(
                &quot;password&quot;, &quot;Password&quot;)
            @this.RenderPasswordWithValidation(
                &quot;confirmPassword&quot;, &quot;Confirm Password&quot;)
            &amp;lt;input type=&quot;submit&quot; value=&quot;Register&quot; /&gt;
        &amp;lt;/fieldset&gt;
    &amp;lt;/form&gt;
&amp;lt;/section&gt;

```ã ã„ã¶ã‚·ãƒ³ãƒ—ãƒ«ã«ãªã£ã¦äºˆã¯ã ã„ã¶æº€è¶³ã—ãŸãã‚ˆã€‚ã»ã‹ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ã®çœŸä¼¼ã—ã¦ new { Value = name} ã§è¿½åŠ ã®å±æ€§ã‚’è¿½åŠ ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸã®ãŒã¡ã‚‡ã£ã¨ã ã‘è‡ªæ…¢ã ã€‚ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯ã¡ã‚‡ã£ã¨è‹¦æ‰‹ãªã®ã§ã€ä»Šæ—¥ã¯å€‹äººçš„ã«ãã®å‹‰å¼·ãªã©ã—ã¦ã¿ãŸã€‚æ¬¡å›ã¯ãƒ­ã‚°ã‚¤ãƒ³ã¨ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã ã‘ã©ã€ã“ã‚Œã¯ä¸€ç¬ã§çµ‚ã‚ã‚Šãã†â€¦â€¦ã€‚

&lt;/div&gt;&lt;div class=&quot;footnote&quot;&gt;
&lt;a href=&quot;#fn-8a0f6f9f&quot; name=&quot;f-8a0f6f9f&quot; class=&quot;footnote-number&quot;&gt;*1&lt;/a&gt;&lt;span class=&quot;footnote-delimiter&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;footnote-text&quot;&gt;ã‚³ãƒ¼ãƒ‰ãƒ“ãƒã‚¤ãƒ³ãƒ‰ã£ã¦ã„ã†ã®ï¼Ÿã€€çŸ¥ã‚‰ã‚“ã‘ã©&lt;/span&gt;
&lt;/div&gt;

</code></pre>

    <footer>
        
        
            <div class="alert alert-warning" role="alert">
                <strong>æ³¨æ„</strong> ã“ã®è¨˜äº‹ã¯ ã¯ã¦ãªãƒ–ãƒ­ã‚° ã‹ã‚‰ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸãŒã€ã¾ã ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒçµ‚ã‚ã£ã¦ã„ãªã„ãŸã‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå´©ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚èª­ã¿ã«ãã„å ´åˆã‚„ãƒ†ã‚­ã‚¹ãƒˆã«æ¬ æãŒã‚ã‚‹å ´åˆã¯ <a href="https://daruyanagi.hatenablog.com/entry/2012/08/25/003421">ã“ã¡ã‚‰</a> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
            </div>
        

        
            <p class="text-right">
                <a href="https://github.com/daruyanagi/blog.daruyanagi.jp/tree/master/content/entry/2012/08/25/003421.md"><img src="https://github.com/favicon.ico" style="height: 16px; vertical-align: middle;"> View on GitHub.com</a>
                / 
                æœ€çµ‚æ›´æ–°æ—¥ï¼š<time>2020/04/20</time> 
            </p>
        
    </footer>
</article>

<section class="container text-center"> 

    <p>
        
        <a href="https://blog.daruyanagi.jp/entry/2012/08/24/105121/">&laquo; Older</a>
        
        <span > - </span>
            <a href="/">ğŸ  Home</a>
        <span > - </span>
        
            <a href="https://blog.daruyanagi.jp/entry/2012/08/26/114129/">Newer &raquo;</a>
        
    </p>    
    
</section>


    </main>

    <footer class="text-muted"></footer><div class="container">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block; text-align:center;"
         data-ad-layout="in-article"
         data-ad-format="fluid"
         data-ad-client="ca-pub-0944887782985208"
         data-ad-slot="1125180844"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <div class="spacer" style="height: 3rem;"></div>

    <p class="float-right">
    <a href="#">Back to top</a>
    </p>
    <p>
        &copy; <a href="//daruyanagi.jp">daruyanagi</a> 2007-2020. </p>
</div>

</footer>

    <script src="//code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script></body>

    <script>
      const tables = document.getElementsByTagName("table");
      for (var i = 0; i < tables.length; i++)
      {
        tables[i].classList.add("table");
      }

      const blockquotes = document.getElementsByTagName("blockquote");
      for (var i = 0; i < blockquotes.length; i++)
      {
        blockquotes[i].classList.add("blockquote");
      }
    </script>
</html>
