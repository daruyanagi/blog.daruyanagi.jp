
+++
date = "2015-09-22 17:12:05 +0000 UTC"
draft = false
title = "一年ぶり： HTML5 Canvas に挑戦したった。"
tags = ["JavaScript "]

+++
<iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fblog.daruyanagi.jp%2Fentry%2F2014%2F05%2F27%2F032655" title="ただの日記： HTML5 Canvas に挑戦したった。 - だるろぐ" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe

>むかし HTML5 Canvas で年表っぽいの作りたいなぁ、って思って一度挑戦したのだけど……すごい、もう一年経ってた。そら、加齢臭も増しますわ。コーディングは WebMatrix でやったけれど、いまだに JavaScript をいい感じにコンポーネント化するやり方が分かってない(;´･ω･)<script src="https://gist.github.com/daruyanagi/a642d35cf017a9231e80.js"> </script>

前と違うのは縦書きである点だけど、HTML は横に広がるより縦に広がる方が読みやすい気がした。あと、デザイン……センスないのどうやったら改善されるんだろう？
```javascript
&lt;script src="~/Scripts/Chronology.js">&lt;/script>
&lt;script>
    var graph_settings1 = {
        :
    }

    window.onload = function () {
        chronology(&#39;graph&#39;, graph_settings1);
    };
&lt;/script>

```ってな感じで使える気がする。ロゴ云々はキニシナイデ。最初はそれぞれのアイテムにロゴをもたせて、名前の代わりにロゴをレンダリングしてやろうと思ったのだけど、なんかいろいろ難しくてやめた。

<div class="section">
    ### テスト1：三国志の年表
    

{{< figure src="/images/20150922170332.png"  >}}

br/>

```javascript
var graph_settings2 = {
    "begin_year": 190,
    "end_year": 290,
    "scale": 5,
    "margin": 6,
    "items": [
            { "name": "魏", "start": 220, "end": 265, "color": "blue" },
            { "name": "呉", "start": 222, "end": 280, "color": "red" },
            { "name": "蜀", "start": 221, "end": 263, "color": "orange" },
            { "name": "晋", "start": 265, "end": 316, "color": "green" },
            { "name": "後漢", "start": 23, "end": 220, "color": "gray" },
        ],
    "events": [
        { "name": "黄巾の乱", "year": 184 },
        { "name": "赤壁の戦い", "year": 208 },
        { "name": "夷陵の戦い", "year": 221 },
        { "name": "五丈原の戦い", "year": 234 },
        { "name": "高平陵の変", "year": 249 },
        { "name": "公孫淵滅亡", "year": 238 },
    ]
};

```
</div>
<div class="section">
    ### テスト2：共和制ローマ末期（紀元前のテスト）
    

{{< figure src="/images/20150922170401.png"  >}}

br/>

```javascript
var graph_settings3 = {
    "begin_year": -120,
    "end_year": 20,
    "scale": 5,
    "margin": 6,
    "graduation": 20,
    "items": [
            { "name": "キケロ", "start": -107, "end": -43, "color": "blue" },
            { "name": "スッラ", "start": -138, "end": -78, "color": "red" },
            { "name": "カエサル", "start": -102, "end": -44, "color": "orange" },
            { "name": "アントニウス", "start": -83, "end": -30, "color": "green" },
            { "name": "アウグストゥス", "start": -63, "end": 14, "color": "gray" },
        ],
    "events": [
        { "name": "アクティウムの海戦", "year": -31 },
        { "name": "アレシア攻防戦", "year": -51 },
        { "name": "同盟市戦争", "year": -90 },
        { "name": "スパルタクスの反乱", "year": -73 },
        { "name": "ユグルタ戦争", "year": -109 },
    ]
};

```紀元前0年が発生するのは気にしないことにする（ぉ

</div>

