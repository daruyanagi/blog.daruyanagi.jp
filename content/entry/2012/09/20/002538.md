
+++
date = "2012-09-20 00:25:38 +0000 UTC"
draft = false
title = "WinRT/XAML のお勉強 ―― データを視覚化したいなぁ"
tags = ["WinRT"]

+++
<a href="https://blog.daruyanagi.jp/entry/2012/09/17/222920">燃費記録用の Windows ストアアプリを作ってみた - だるろぐ</a> を作っていてふと思った。<script>    window.twttr = (function(d, s, id) {        var js, fjs = d.getElementsByTagName(s)[0],            t = window.twttr || {};        if (d.getElementById(id)) return t;        js = d.createElement(s);        js.id = id;        js.src = "https://platform.twitter.com/widgets.js";        fjs.parentNode.insertBefore(js, fjs);        t._e = [];        t.ready = function(f) {            t._e.push(f);        };        return t;    }(document, "script", "twitter-wjs"));</script><script>    twttr.ready(function (twttr) {        var el = document.getElementsByClassName('twitter-syntax-tweet-id-247909564761112576');        for (var i=0;i<el.length;i++) {            if (!!el[i].getAttribute('data-is-tweet-loaded')){                continue;            }            el[i].setAttribute('data-is-tweet-loaded', '1');            twttr.widgets.createTweet('247909564761112576',el[i],{});        }    });</script><div class="twitter-syntax-tweet-id-247909564761112576"></div>そうなんだ、それがあれば完璧になるんだ！　すると、すかさずナイスな情報を教えてもらえた。<script>    window.twttr = (function(d, s, id) {        var js, fjs = d.getElementsByTagName(s)[0],            t = window.twttr || {};        if (d.getElementById(id)) return t;        js = d.createElement(s);        js.id = id;        js.src = "https://platform.twitter.com/widgets.js";        fjs.parentNode.insertBefore(js, fjs);        t._e = [];        t.ready = function(f) {            t._e.push(f);        };        return t;    }(document, "script", "twitter-wjs"));</script><script>    twttr.ready(function (twttr) {        var el = document.getElementsByClassName('twitter-syntax-tweet-id-247911268567101440');        for (var i=0;i<el.length;i++) {            if (!!el[i].getAttribute('data-is-tweet-loaded')){                continue;            }            el[i].setAttribute('data-is-tweet-loaded', '1');            twttr.widgets.createTweet('247911268567101440',el[i],{});        }    });</script><div class="twitter-syntax-tweet-id-247911268567101440"></div>さすが左の翼！（<a href="https://blog.daruyanagi.jp/entry/2012/04/26/050929">WWD いってきたよ！ - だるろぐ</a> での内輪ネタです、ゴメンナサイ）{{< figure src="/images/20120920000508.png"  >}}で、実際にちょっと試したのだけれど、チャートはなんだかうまくいかなかった。チュートリアル通りにコードを書いたんだけど、なんでだろう。サンプルアプリもあるし、動くはずなんだけれど。もう少し頑張ってみるべきだろうけれど、正式版は有償となるとどうもモチベーションが上がらない。{{< figure src="/images/20120920000619.png"  >}}ただ、これに付属している DatePicker はイケてる。Windows Phone みたいだ。ただ、こういうのは標準で搭載していてほしい気もするんだ。WinRT には NumericUpDown すらない。まぁ、Silverlight Toolkit みたいなプロジェクトがすでにあるみたいだけれど。<a href="http://jupitertoolkit.codeplex.com/">http://jupitertoolkit.codeplex.com/</a>まだそこまで手が出せるほどの知識がないのが悲しい。{{< figure src="/images/20120920001434.png"  >}}ともあれ、自分で何とかできないかなぁ、と思って Line や Polyline を使ったサンプルを作って勉強している。XAML は比較的こういうのが得意みたいで、データをグラフ表現するのはそんなに難しくない。たとえば、左のしょぼい棒グラフ付きの ListBox ならこんな感じだ。
```cs
protected override void OnNavigatedTo(NavigationEventArgs e)
{
    var r = new Random();
    DataContext = Enumerable.Range(1, 10).Select(_ => r.Next(1, 100));
}

&lt;ListView ItemsSource="{Binding}">
    &lt;ListView.ItemTemplate>
        &lt;DataTemplate>
            &lt;StackPanel>
                &lt;TextBlock Text="{Binding}" />
                &lt;Line X1="0" Y1="0" X2="{Binding}" Y2="0" Stroke="RoyalBlue" StrokeThickness="5"/>
            &lt;/StackPanel>
        &lt;/DataTemplate>
    &lt;/ListView.ItemTemplate>
&lt;/ListView>

```けれど、入力データに対して柔軟に対応できて（拡大・縮小、任意のスケール）、それなりにカッコいいのを作ろうと思うとやっぱり大変そうだ。初心者に産毛が生えたような自分には少し難しい。でも、決してステマではないんだけれど、<a href="https://blog.daruyanagi.jp/entry/2012/09/08/062322">『「.NET開発者」のためのSilverlight入門』 - だるろぐ</a> のおかげか、これぐらいのことはササッと書けるようになったのはちょっとうれしい。


