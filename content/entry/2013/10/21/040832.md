
+++
date = "2013-10-21 04:08:32 +0000 UTC"
draft = false
title = "はてなブログの人気の記事リストを表示する"
tags = ["はてな","JavaScript "]

+++


{{< figure src="/images/20131021035539.png"  >}}

のブログのサイドバーにある「人気記事」のリストは、しばやんが作ったはてなブログ用の人気エントリー API を利用している。

<ul>
<li><a href="http://shiba-yan.hatenablog.jp/entry/20130511/1368281675">Nancy ではてなブログ用の人気エントリー API を作ってみた - しばやん雑記</a></li>
<li><a href="http://shiba-yan.hatenablog.jp/entry/20130523/1369239060">はてなブログ用の人気エントリー表示パーツを真面目に作った - しばやん雑記</a></li>
</ul

>最近ちょっと動かないことがあったのだけど、<script>    window.twttr = (function(d, s, id) {        var js, fjs = d.getElementsByTagName(s)[0],            t = window.twttr || {};        if (d.getElementById(id)) return t;        js = d.createElement(s);        js.id = id;        js.src = "https://platform.twitter.com/widgets.js";        fjs.parentNode.insertBefore(js, fjs);        t._e = [];        t.ready = function(f) {            t._e.push(f);        };        return t;    }(document, "script", "twitter-wjs"));</script>

<script>    twttr.ready(function (twttr) {        var el = document.getElementsByClassName('twitter-syntax-tweet-id-391341056127934464');        for (var i=0;i<el.length;i++) {            if (!!el[i].getAttribute('data-is-tweet-loaded')){                continue;            }            el[i].setAttribute('data-is-tweet-loaded', '1');            twttr.widgets.createTweet('391341056127934464',el[i],{});        }    });</script>

<div class="twitter-syntax-tweet-id-391341056127934464"></div>とのこと。最近、はてながスクリプトの読み込み順序をイジったのが原因らしい。というわけで、この対処法を組み込んで実行してみる。

