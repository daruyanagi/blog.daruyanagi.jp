
+++
date = "2012-02-13 00:42:41 +0000 UTC"
draft = false
title = " RFC822 の日付形式"
tags = ["C#"]

+++
<a href="http://daruyanagi.hatenablog.com/entry/2012/02/02/225759"> RSS 2.0 を実装する - だるろぐ</a> の記述に誤りがあった<span style="color: #cccccc">（ちなみにこのブログは誤りだらけなので鵜呑みにしてはいけない）</span>。 <a href="http://hail2u.net/documents/rss20notes.html">RSS 2.0 Notes</a> によれば、日付の形式は RFC822 に従わなければいけなかったらしい。例えばこんな感じ。

    >
        Sun, 12 Feb 2012 21:09:36 +0900

    
とりあえず、こうしてみた。

    ```
@LastUpdated.ToString("ddd, dd MMM yyyy HH:mm:ss zzz")
```
結果

    >
        日, 12 2 2012 21:09:36 +09:00

    
カルチャーを指定してみた。

    ```
@LastUpdated.ToString(
   "ddd, dd MMM yyyy HH:mm:ss zzz",
   System.Globalization.CultureInfo.InvariantCulture)
```
結果

    >
        Sun, 12 Feb 2012 21:09:36 +09:00

    
あともう少し。タイムゾーンの“:“が要らない。タイムゾーンの書式設定を"zz00"にすればいいかと思ったけど、世の中には分単位でタイムゾーンを決めているとこもあるらしいので、この方法は使えない。

    ```
@LastUpdated.ToString(
   "ddd, dd MMM yyyy HH_mm_ss zzz",
   System.Globalization.CultureInfo.InvariantCulture
).Replace(":", "").Replace("_", ":")
```

    >
        Sun, 12 Feb 2012 21:09:36 +0900

    
毎回書くのはメンドクサイので DateTime の拡張メソッドにしておくとよさげ。その他にもちょいちょい修正してみた。


