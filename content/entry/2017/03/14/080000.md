
+++
date = "2017-03-14 08:00:00 +0000 UTC"
draft = false
title = "Microsoft Flow でブログの更新を Twitter で配信してみる"
tags = ["Microsoft Flow","告知"]

+++
[Windows Store Watch](http://store-watch.hatenadiary.jp/)これの更新を――[Windows Store Watch (@win_store_watch) | Twitter](https://twitter.com/win_store_watch)で配信したいと思いました。方法はいろいろあるだろうけど（IFTTT が有名でしょうか）、今回は Microsoft Flow を試してみようと思います。確かいろいろ制限はあるけど、基本はタダです。

<ul>
<li>月ごとの実行数 750 回</li>
<li>無制限のフロー作成</li>
<li>15 分ごとにチェック</li>
</ul>
<div class="section">
    ### 準備するもの
    
<ul>
<li>Microsoft アカウント</li>
<li>Twitter アカウント</li>
<li>ブログのフィード URL（はてなブログなら トップのアドレス/feed みたいな感じ）</li>
</ul>
</div>
<div class="section">
    ### フローを作成する
    フローというのは特定の処理です。今回の場合、

<ul>
<li>ブログの更新を Twitter で配信する</li>
</ul>が目的ですが、これは2つのフローを組み合わせることで実現できます。

<ul>
<li>ブログの更新を検知</li>
<li>検知した更新を Twitter へ投稿</li>
</ul>Microsoft Flow にはすでにたくさんのフロー（メールを送る、プッシュ通知を送るなどなど）が用意されているので、たいていは組み合わせるだけです。

{{< figure src="/images/20170314011430.png"  >}}

ず <a href="https://flow.microsoft.com/">https://flow.microsoft.com/</a> へアクセスし――

{{< figure src="/images/20170314011511.png"  >}}

icrosoft アカウントでサインインします。

{{< figure src="/images/20170314011806.png"  >}}

とはフローを組み立てていくだけなのですが、実はもう「フィードを Twitter へ投稿する」という作業のテンプレートがありますので、それを使っちゃいます。

{{< figure src="/images/20170314011913.png"  >}}

ンプレートを選択すると――

{{< figure src="/images/20170314011944.png"  >}}

集画面が現れるので、Twitter 連携とフィード URL の入力をし、画面右上の［フローの作成］ボタンを押せば完成です。簡単すぎて思わず鼻毛伸びそう。

{{< figure src="/images/20170314012105.png"  >}}

ツイートの文言をカスタマイズしたいなー」という場合は、編集することもできます。エディター機能がまだあんまりイケてないのでサックリ消して、「［フィードのタイトル］［プライマリフィードリンク］」を配置してみました。これで

{{< tweet 841319258109833226 >}}

たいなツイートになるはずです。ハッシュタグなんかを追加してみてもいいかもしれませんね。メディアの投稿は今回のケースではちょっと難しいかもですが、「画像を添付したメールを Gmail に送信したらそれを Twitter へ投稿」なんていうフローを作るときに役立つかも。

{{< figure src="/images/20170314012658.png"  >}}

疲れさまでした！

{{< figure src="/images/20170314012721.png"  >}}

{{< figure src="/images/20170314013025.png"  >}}

理画面からはフローの実行結果なんかもチェックできますよ～

</div>
<div class="section">
    ### 追伸
    

{{< figure src="/images/20170314012831.png"  >}}

レビュー版の Gmail 送信機能を使ってみた（ツイートを投稿したらメールで通知、みたいな）んだけど、メールが送られてこない……まぁ、プレビューだし仕方ない。

</div>
<div class="section">
    ### 追伸その２
    あとで確認したら、ちゃんと Gmail に送られていた。えらいえらい。

{{< figure src="/images/20170314130914.png"  >}}

気に記事を更新すると、一度に配信が始まるようだ。連投は嫌だから、ディレイをもうけたいなぁ……いい方法がないか後で探してみる。

{{< tweet 841508791501783040 >}}

</div>

