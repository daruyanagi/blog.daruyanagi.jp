---
date: 2012-09-20T00:25:38.0000000
draft: false
title: "WinRT/XAML のお勉強 ―― データを視覚化したいなぁ"
tags: ["WinRT"]
eyecatch: 
---
<p><a href="https://blog.daruyanagi.jp/entry/2012/09/17/222920">&#x71C3;&#x8CBB;&#x8A18;&#x9332;&#x7528;&#x306E; Windows &#x30B9;&#x30C8;&#x30A2;&#x30A2;&#x30D7;&#x30EA;&#x3092;&#x4F5C;&#x3063;&#x3066;&#x307F;&#x305F; - &#x3060;&#x308B;&#x308D;&#x3050;</a> を作っていてふと思った。</p><p><script>    window.twttr = (function(d, s, id) {        var js, fjs = d.getElementsByTagName(s)[0],            t = window.twttr || {};        if (d.getElementById(id)) return t;        js = d.createElement(s);        js.id = id;        js.src = "https://platform.twitter.com/widgets.js";        fjs.parentNode.insertBefore(js, fjs);        t._e = [];        t.ready = function(f) {            t._e.push(f);        };        return t;    }(document, "script", "twitter-wjs"));</script><script>    twttr.ready(function (twttr) {        var el = document.getElementsByClassName('twitter-syntax-tweet-id-247909564761112576');        for (var i=0;i<el.length;i++) {            if (!!el[i].getAttribute('data-is-tweet-loaded')){                continue;            }            el[i].setAttribute('data-is-tweet-loaded', '1');            twttr.widgets.createTweet('247909564761112576',el[i],{});        }    });</script><div class="twitter-syntax-tweet-id-247909564761112576"></div></p><p>そうなんだ、それがあれば完璧になるんだ！　すると、すかさずナイスな情報を教えてもらえた。</p><p><script>    window.twttr = (function(d, s, id) {        var js, fjs = d.getElementsByTagName(s)[0],            t = window.twttr || {};        if (d.getElementById(id)) return t;        js = d.createElement(s);        js.id = id;        js.src = "https://platform.twitter.com/widgets.js";        fjs.parentNode.insertBefore(js, fjs);        t._e = [];        t.ready = function(f) {            t._e.push(f);        };        return t;    }(document, "script", "twitter-wjs"));</script><script>    twttr.ready(function (twttr) {        var el = document.getElementsByClassName('twitter-syntax-tweet-id-247911268567101440');        for (var i=0;i<el.length;i++) {            if (!!el[i].getAttribute('data-is-tweet-loaded')){                continue;            }            el[i].setAttribute('data-is-tweet-loaded', '1');            twttr.widgets.createTweet('247911268567101440',el[i],{});        }    });</script><div class="twitter-syntax-tweet-id-247911268567101440"></div></p><p>さすが左の翼！（<a href="https://blog.daruyanagi.jp/entry/2012/04/26/050929">WWD &#x3044;&#x3063;&#x3066;&#x304D;&#x305F;&#x3088;&#xFF01; - &#x3060;&#x308B;&#x308D;&#x3050;</a> での内輪ネタです、ゴメンナサイ）</p><p><span itemscope itemtype="http://schema.org/Photograph"><img src="20120920000508.png" alt="f:id:daruyanagi:20120920000508p:plain" title="f:id:daruyanagi:20120920000508p:plain" class="hatena-fotolife" itemprop="image"></span></p><p>で、実際にちょっと試したのだけれど、チャートはなんだかうまくいかなかった。チュートリアル通りにコードを書いたんだけど、なんでだろう。サンプルアプリもあるし、動くはずなんだけれど。もう少し頑張ってみるべきだろうけれど、正式版は有償となるとどうもモチベーションが上がらない。</p><p><span itemscope itemtype="http://schema.org/Photograph"><img src="20120920000619.png" alt="f:id:daruyanagi:20120920000619p:plain" title="f:id:daruyanagi:20120920000619p:plain" class="hatena-fotolife" itemprop="image"></span></p><p>ただ、これに付属している DatePicker はイケてる。Windows Phone みたいだ。ただ、こういうのは標準で搭載していてほしい気もするんだ。WinRT には NumericUpDown すらない。まぁ、Silverlight Toolkit みたいなプロジェクトがすでにあるみたいだけれど。</p><p><a href="http://jupitertoolkit.codeplex.com/">http://jupitertoolkit.codeplex.com/</a></p><p>まだそこまで手が出せるほどの知識がないのが悲しい。</p><p><span itemscope itemtype="http://schema.org/Photograph"><img src="20120920001434.png" alt="f:id:daruyanagi:20120920001434p:plain" title="f:id:daruyanagi:20120920001434p:plain" class="hatena-fotolife" itemprop="image"></span></p><p>ともあれ、自分で何とかできないかなぁ、と思って Line や Polyline を使ったサンプルを作って勉強している。XAML は比較的こういうのが得意みたいで、データをグラフ表現するのはそんなに難しくない。</p><p>たとえば、左のしょぼい棒グラフ付きの ListBox ならこんな感じだ。</p>
<pre class="code lang-cs" data-lang="cs" data-unlink><span class="synType">protected</span> <span class="synType">override</span> <span class="synType">void</span> OnNavigatedTo(NavigationEventArgs e)
{
var r = <span class="synStatement">new</span> Random();
DataContext = Enumerable.Range(<span class="synConstant">1</span>, <span class="synConstant">10</span>).Select(_ =&gt; r.Next(<span class="synConstant">1</span>, <span class="synConstant">100</span>));
}

&lt;ListView ItemsSource=<span class="synConstant">&quot;{Binding}&quot;</span>&gt;
&lt;ListView.ItemTemplate&gt;
&lt;DataTemplate&gt;
&lt;StackPanel&gt;
&lt;TextBlock Text=<span class="synConstant">&quot;{Binding}&quot;</span> /&gt;
&lt;Line X1=<span class="synConstant">&quot;0&quot;</span> Y1=<span class="synConstant">&quot;0&quot;</span> X2=<span class="synConstant">&quot;{Binding}&quot;</span> Y2=<span class="synConstant">&quot;0&quot;</span> Stroke=<span class="synConstant">&quot;RoyalBlue&quot;</span> StrokeThickness=<span class="synConstant">&quot;5&quot;</span>/&gt;
&lt;/StackPanel&gt;
&lt;/DataTemplate&gt;
&lt;/ListView.ItemTemplate&gt;
&lt;/ListView&gt;
</pre><p>けれど、入力データに対して柔軟に対応できて（拡大・縮小、任意のスケール）、それなりにカッコいいのを作ろうと思うとやっぱり大変そうだ。初心者に産毛が生えたような自分には少し難しい。でも、決してステマではないんだけれど、<a href="https://blog.daruyanagi.jp/entry/2012/09/08/062322">&#x300E;&#x300C;.NET&#x958B;&#x767A;&#x8005;&#x300D;&#x306E;&#x305F;&#x3081;&#x306E;Silverlight&#x5165;&#x9580;&#x300F; - &#x3060;&#x308B;&#x308D;&#x3050;</a> のおかげか、これぐらいのことはササッと書けるようになったのはちょっとうれしい。</p>
