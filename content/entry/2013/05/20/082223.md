
+++
date = "2013-05-20 08:22:23 +0000 UTC"
draft = false
title = "Graphics.FillRectangle()　が正常に機能しない → 俺が間違ってました"
tags = [".NET Framework"]

+++
<div class="section">
    ### 問題編
    たったこれだけのコードが動かなくて、泣いた。
```cs
using (var fore = new Bitmap(icon_path))
using (var back = new Bitmap(fore.Width, fore.Height))
using (var brush = new SolidBrush (color))
using (var g = Graphics.FromImage(back))
{
    var src_rect = new RectangleF(
        0, 0, back.Width, back.Height);
    var dst_rect = new RectangleF(
        x, y, back.Width * scale, back.Height * scale); 

    g.FillRectangle(brush, src_rect); // &lt;- 透明になる！！
    g.DrawImage(fore, dst_rect);
}

```
</div>
<div class="section">
    ### ヒント
    new SolidBrush (color) を Brushes.Red なんかにするとちゃんと動く（背景色が赤色になる）んだが……なにがおかしいんだ！

</div>

