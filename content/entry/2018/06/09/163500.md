
+++
date = "2018-06-09 16:35:00 +0000 UTC"
draft = false
title = "UWP：FullTrustProcessLauncher で起動したプログラムに引数を渡す"
tags = ["UWP","C#"]

+++
できないのかなーと思ってたのだけど、イケるっぽい。[UWP JavaScript APP: run win32 EXE with parameters](https://stackoverflow.com/questions/39487135/uwp-javascript-app-run-win32-exe-with-parameters)こんな風に desktop:ParameterGroup をあらかじめ登録して……
```xml
<!--?-->xml version="1.0" encoding="utf-8"?>

    xmlns:desktop="http://schemas.microsoft.com/appx/manifest/desktop/windows10"
>
    <applications></applications>
    Id="App" Executable="$targetnametoken$.exe" EntryPoint="$targetentrypoint$">
        <extensions></extensions>
            &lt;desktop:Extension Category="windows.fullTrustProcess"
                Executable="Yakitori.Console\Yakitori.Console.exe">
                    &lt;desktop:FullTrustProcess>
                        &lt;desktop:ParameterGroup GroupId="Desktop" Parameters="/d"/>
                        &lt;desktop:ParameterGroup GroupId="Active" Parameters="/a"/>
                    &lt;/desktop:FullTrustProcess>
                &lt;/desktop:Extension>
	    
    
    


```それを使えばいいみたい。
```cs
private async void Button_Click(object sender, Windows.UI.Xaml.RoutedEventArgs e)
{
    await FullTrustProcessLauncher.LaunchFullTrustProcessForCurrentAppAsync("Desktop");
}

```これをコンソールアプリで受けてみると、こんな感じになった。
```cs
namespace Yakitori.Console
{
	class Program
	{
		static void Main(string[] args)
		{
			foreach (var arg in args)
			{
				System.Console.WriteLine(arg);
			}

			System.Console.ReadKey();
		}
	}
}

```意味はよく分からんし、本来の使い方と違う気がするけど、これで UWP ⇔ コンソール連携できそう。{{< figure src="/images/20180609163221.png"  >}}


